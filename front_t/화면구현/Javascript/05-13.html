<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>DOM - 종합예제</title>
<style>
    table {width: 600px;background-color:#ccc;}
    td,th {background-color:#fff;padding:5px;text-align: center;}
    th {background-color:#eee;}
</style>
</head>
<body>
<h1>자동차 견적 페이지</h1>
<div id="carZone">
    <p><img src="img/car1.jpg" width="300"></p>
    <table cellspacing=1>
        <thead>
            <tr>
                <th>옵션</th>
                <th>추가가격</th>
                <th>선택</th>
            </tr>
            <tr>
                <th>차량가격</th>
                <td colspan="2"><input type="text" name="total" id="total" value="13450000" readonly></td>
            </tr>
        </thead>
        <tbody id="opt_list">
            <tr>
                <th>인조가죽시트</th>
                <td>250000</td>
                <td><input type="checkbox" name="opt1" id="opt1" value="250000" onclick="car()"></td>
            </tr>
            <tr>
                <th>내비게이션</th>
                <td>300000</td>
                <td><input type="checkbox" name="opt2" id="opt2" value="300000" onclick="car()"></td>
            </tr>
            <tr>
                <th>선루프</th>
                <td>440000</td>
                <td><input type="checkbox" name="opt3" id="opt3" value="440000" onclick="car()"></td>
            </tr>
        </tbody>
        <tfoot>
            <tr>
                <th>차량가격</th>
                <td colspan="2" id="result"></td>
            </tr>
        </tfoot>
    </table>
</div>
<script>
    // 페이지 로딩시 기본가격 표현
    var total2 = document.getElementById("total").value/10000;
    total2 = total2.toLocaleString();
    document.getElementById("result").innerHTML = total2;
    
    
    // 옵션선택시 가격 업데이트
    var opt_num = document.getElementById("opt_list").childElementCount;
    function car() {
        var total = document.getElementById("total").value*1;
        for(var i=1;i<=opt_num;i++) {
            var chk=document.getElementById("opt"+i).checked;
            if(chk) total += document.getElementById("opt"+i).value*1;
        }
        total /= 10000;// 만원단위
        total = total.toLocaleString() + "만원";
        document.getElementById("result").innerHTML = total;
    }
    

</script>
</body>
</html>